# cunit-to-junit

Since I needed to parse the results of some [CUnit](http://cunit.sourceforge.net/) tests in 
[Hudson](https://hudson.dev.java.net/) in a recent project, I came up with the following 
transformation which I apply to the cunit xml result file.

Hudson can then evaluate the results as if they were generated by JUnit. The same approach 
is basically used in the [CppUnit Plugin for Hudson](http://wiki.hudson-ci.org/display/HUDSON/CppUnit+Plugin) - which 
is where I got the idea.

Since Iâ€™m too lazy at the moment to write my own plugin for Hudson, 
I figured running [xsltproc](http://www.xmlsoft.org/XSLT/xsltproc2.html) after running my tests will be good enough:

```bash
xsltproc-win32xsltproc.exe --stringparam suitename testall -o testall_results.xml cunit-to-junit.xsl cunit_testall-Results.xml
```

To make CUnit produce XML results, you have to do something like this:

```C
CU_set_output_filename( "cunit_testall" );
CU_list_tests_to_file();
CU_automated_run_tests();
```

## Further reading
See also for some more details and background

* https://www.van-porten.de/blog/2009/05/cunit-tests-in-hudson/
* https://www.van-porten.de/blog/2011/09/cunit-to-junit-transform-now-on-bitbucket/
